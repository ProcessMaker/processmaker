"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7651],{1501:function(e,n,t){t.r(n),t.d(n,{default:function(){return eO}});var l,r,i=t(5893),o=t(7294),s=t(1664),a=t.n(s),c=t(1163),d=t(2642),u=t(7564),h=t(4151),x=t(1232),m=t(7841),p=t(9876),j=t(9834),g=t(7789),f=t(2623),C=t(3723),v=t(5078),y=t(6787),k=t(5117),b=t(4736),w=t(4777),z=t(7837),S=t(7484),Z=t.n(S),I=t(4110),D=t.n(I),N=t(6501),E=t(8193),O=t(9583),T=t(5434),P=t(4578),J=t(3983),F=t(6598),A=t(3161);Z().extend(D());let L={json:"orange",yaml:"blue",xml:"red",toml:"dark",csv:"grape"},_=e=>{let{file:n,onClose:t,refetch:l}=e,[r,s]=o.useState("");return(0,i.jsx)(d.u,{title:"Update Document name",opened:!!n,onClose:t,centered:!0,children:(0,i.jsxs)(u.K,{children:[(0,i.jsx)(h.I,{value:r,placeholder:null==n?void 0:n.name,onChange:e=>s(e.currentTarget.value)}),(0,i.jsxs)(x.Z,{position:"right",children:[(0,i.jsx)(m.z,{variant:"outline",onClick:t,children:"Cancel"}),(0,i.jsx)(m.z,{onClick:()=>{n&&(N.default.promise((0,J.CS)(n.id,{name:r}),{loading:"Updating document...",error:"Error occurred while updating document!",success:"Renamed document to ".concat(r)}).then(()=>{l(),s("")}),t())},children:"Update"})]})]})})};var R=t(7141),U=t(50),B=t(61),K=t(7860),M=t(6438),G=t(1713),V=t(6293),W=t(9089),Y=t(6893);(l=r||(r={})).SVG="svg",l.PNG="png",l.JPEG="jpeg";let X=e=>{switch(e){case r.SVG:return V.KT;case r.PNG:return V.YM;case r.JPEG:return V.hi}},q=["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB","transparent"];var H=t(2729),Q=t(5437);function $(){let e=(0,H._)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: ",";\n  border: 2px dashed ",';\n  border-radius: 5px;\n  min-height: 200px;\n  padding: 16px;\n  cursor: pointer;\n\n  input[type="file"] {\n    display: none;\n  }\n']);return $=function(){return e},e}function ee(){let e=(0,H._)(["\n  padding-top: 14px;\n  color: ",";\n"]);return ee=function(){return e},e}function en(){let e=(0,H._)(["\n  color: ",";\n  margin-bottom: 0;\n"]);return en=function(){return e},e}let et=Q.ZP.label.withConfig({componentId:"sc-8a25d2a3-0"})($(),e=>{let{theme:n}=e;return n.BACKGROUND_SECONDARY},e=>{let{theme:n}=e;return n.BACKGROUND_TERTIARY}),el=Q.ZP.span.withConfig({componentId:"sc-8a25d2a3-1"})(ee(),e=>{let{theme:n}=e;return n.INTERACTIVE_NORMAL}),er=Q.ZP.h3.withConfig({componentId:"sc-8a25d2a3-2"})(en(),e=>{let{theme:n}=e;return n.INTERACTIVE_ACTIVE});var ei=t(9985),eo=t(4053),es=t(155),ea=t(59),ec=t(6862),ed=t(3764),eu=t(1418),eh=t(2894),ex=t(4367),em=t(9706),ep=t(6415);let ej=e=>{let n=Array.isArray(e)?Object.fromEntries(e):e;return JSON.stringify(n,(e,n)=>"string"==typeof n?n.replaceAll('"',""):n,2)},eg=e=>{let{format:n,children:t,...l}=e;return(0,i.jsx)(C.x,{children:(0,i.jsx)(ec.p,{miw:350,mah:250,language:"json",copyLabel:"Copy to clipboard",copiedLabel:"Copied to clipboard",withLineNumbers:!0,getPrismTheme:(e,n)=>"light"===n?eh.Z:eu.Z,...l,children:t})})};var ef=t(8791),eC=t(331),ev=t(8393),ey=t(9236),ek=t(8949),eb=t(5044),ew=t(3750),ez=t(1238),eS=t(9704),eZ=t(2870),eI=t(4685),eD=t(8985),eN=t(4231);let eE=[{key:"import",component:e=>{var n;let{opened:t,onClose:l}=e,r=(0,F.Z)(e=>e.setContents),[s,a]=o.useState(""),[c,h]=o.useState(null),p=e=>{e.preventDefault(),"drop"===e.type&&e.dataTransfer.files.length&&("application/json"===e.dataTransfer.files[0].type?h(e.dataTransfer.files[0]):N.default.error("Please upload JSON file!"))};return(0,i.jsxs)(d.u,{title:"Import JSON",opened:t,onClose:l,centered:!0,children:[(0,i.jsxs)(u.K,{py:"sm",children:[(0,i.jsx)(B.o,{value:s,onChange:e=>a(e.target.value),type:"url",placeholder:"URL of JSON to fetch","data-autofocus":!0}),(0,i.jsxs)(et,{onDrop:p,onDragOver:p,children:[(0,i.jsx)("input",{onChange:e=>{var n;e.target.files&&h(null===(n=e.target.files)||void 0===n?void 0:n.item(0))},type:"file",accept:"application/JSON"},null==c?void 0:c.name),(0,i.jsx)(E.aBR,{size:48}),(0,i.jsx)(er,{children:"Click Here to Upload JSON"}),(0,i.jsx)(el,{children:null!==(n=null==c?void 0:c.name)&&void 0!==n?n:"None"})]})]}),(0,i.jsx)(w.i,{py:"xs"}),(0,i.jsx)(x.Z,{position:"right",children:(0,i.jsx)(m.z,{onClick:()=>{if(s)return h(null),N.default.loading("Loading...",{id:"toastFetch"}),fetch(s).then(e=>e.json()).then(e=>{r({contents:JSON.stringify(e,null,2)}),l()}).catch(()=>N.default.error("Failed to fetch JSON!")).finally(()=>N.default.dismiss("toastFetch"));if(c){let e=new FileReader;e.readAsText(c,"UTF-8"),e.onload=function(e){var n,t;"string"==typeof(null===(n=e.target)||void 0===n?void 0:n.result)&&r({contents:null===(t=e.target)||void 0===t?void 0:t.result}),l()}}},disabled:!(c||s),children:"Import"})})]})}},{key:"clear",component:e=>{let{opened:n,onClose:t}=e,l=(0,R.Z)(e=>e.setJson),{query:r,replace:o}=(0,c.useRouter)();return(0,i.jsxs)(d.u,{title:"Delete JSON",opened:n,onClose:t,centered:!0,children:[(0,i.jsx)(x.Z,{py:"sm",children:(0,i.jsx)(k.x,{children:"Are you sure you want to delete JSON?"})}),(0,i.jsx)(w.i,{py:"xs"}),(0,i.jsx)(x.Z,{position:"right",children:(0,i.jsx)(m.z,{color:"red",onClick:()=>{l("{}"),t(),"string"==typeof r.json&&((0,J.XL)(r.json),o("/editor"))},children:"Confirm"})})]})}},{key:"download",component:e=>{let{opened:n,onClose:t}=e,[l,s]=o.useState(r.PNG),[a,c]=o.useState({filename:"jsoncrack.com",backgroundColor:"#FFFFFF",quality:1}),h=async()=>{try{var e;N.default.loading("Copying to clipboard...",{id:"toastClipboard"});let n=document.querySelector("svg[id*='ref']"),t=await (0,V.SE)(n,{quality:a.quality,backgroundColor:a.backgroundColor});if(!t)return;null===(e=navigator.clipboard)||void 0===e||e.write([new ClipboardItem({[t.type]:t})]),N.default.success("Copied to clipboard")}catch(e){N.default.error("Failed to copy to clipboard")}finally{N.default.dismiss("toastClipboard"),W.ZP.event({action:"click_clipboard_image",category:"User"}),t()}},p=async()=>{try{var e,n;N.default.loading("Downloading...",{id:"toastDownload"});let t=document.querySelector("svg[id*='ref']"),r=await X(l)(t,{quality:a.quality,backgroundColor:a.backgroundColor});e="".concat(a.filename,".").concat(l),(n=document.createElement("a")).download=e,n.href=r,document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(e){N.default.error("Failed to download image!")}finally{N.default.dismiss("toastDownload"),W.ZP.event({action:"click_download_image",category:"User"}),t()}},j=(e,n)=>c({...a,[e]:n});return(0,i.jsxs)(d.u,{opened:n,onClose:t,title:"Download Image",centered:!0,children:[(0,i.jsxs)(U.r,{py:"sm",align:"end",grow:!0,children:[(0,i.jsx)(U.r.Col,{span:8,children:(0,i.jsx)(B.o,{label:"File Name",value:a.filename,onChange:e=>j("filename",e.target.value)})}),(0,i.jsx)(U.r.Col,{span:4,children:(0,i.jsx)(K.s,{value:l,onChange:e=>s(e),fullWidth:!0,data:[{label:"SVG",value:r.SVG},{label:"PNG",value:r.PNG},{label:"JPEG",value:r.JPEG}]})})]}),(0,i.jsxs)(u.K,{py:"sm",children:[(0,i.jsx)(M.T,{label:"Background Color",value:a.backgroundColor,onChange:e=>j("backgroundColor",e),withEyeDropper:!1}),(0,i.jsx)(G.z,{format:"rgba",value:a.backgroundColor,onChange:e=>j("backgroundColor",e),swatches:q,withPicker:!1,fullWidth:!0})]}),(0,i.jsx)(w.i,{py:"xs"}),(0,i.jsxs)(x.Z,{position:"right",children:[(0,i.jsx)(m.z,{leftIcon:(0,i.jsx)(Y.C3L,{}),onClick:h,children:"Clipboard"}),(0,i.jsx)(m.z,{color:"green",leftIcon:(0,i.jsx)(Y._hL,{}),onClick:p,children:"Download"})]})]})}},{key:"settings",component:e=>{let{opened:n,onClose:t}=e,l=(0,ep.Z)(e=>e.setLightTheme),r=(0,ep.Z)(e=>e.toggleHideCollapse),o=(0,ep.Z)(e=>e.toggleChildrenCount),s=(0,ep.Z)(e=>e.toggleImagePreview),a=(0,ep.Z)(e=>e.hideCollapse),c=(0,ep.Z)(e=>e.childrenCount),h=(0,ep.Z)(e=>e.imagePreview),m=(0,ep.Z)(e=>e.lightmode);return(0,i.jsx)(d.u,{title:"Settings",opened:n,onClose:t,centered:!0,children:(0,i.jsx)(x.Z,{py:"sm",children:(0,i.jsxs)(u.K,{children:[(0,i.jsx)(ef.r,{label:"Live Image Preview",size:"md",color:"teal",onChange:e=>s(e.currentTarget.checked),checked:h}),(0,i.jsx)(ef.r,{label:"Display Collapse/Expand Button",size:"md",color:"teal",onChange:e=>r(e.currentTarget.checked),checked:a}),(0,i.jsx)(ef.r,{label:"Display Children Count",size:"md",color:"teal",onChange:e=>o(e.currentTarget.checked),checked:c}),(0,i.jsx)(ef.r,{label:"Light Theme",size:"md",color:"teal",onChange:e=>l(e.currentTarget.checked),checked:m})]})})})}},{key:"cloud",component:e=>{let{opened:n,onClose:t}=e,l=(0,A.Z)(e=>e.premium?200:25),r=(0,A.Z)(e=>e.premium),s=(0,F.Z)(e=>e.getContents),u=(0,F.Z)(e=>e.setHasChanges),h=(0,F.Z)(e=>e.getFormat),[m,S]=o.useState(null),{isReady:I,query:D,replace:R}=(0,c.useRouter)(),{data:U,refetch:B}=(0,z.a)(["allJson",D],()=>(0,J.Cp)(),{enabled:I&&n}),K=o.useMemo(()=>null!=U&&!!U.length&&(r?U.length>=200:U.length>=25),[r,null==U?void 0:U.length]),M=async()=>{try{N.default.loading("Saving document...",{id:"fileSave"});let{data:e,error:n}=await (0,J.r7)({contents:s(),format:h()});if(n)throw n;N.default.success("Document saved to cloud",{id:"fileSave"}),u(!1),R({query:{json:e}}),t()}catch(e){N.default.error("Failed to save document!",{id:"fileSave"}),console.error(e)}},G=o.useCallback(e=>{N.default.promise((0,J.XL)(e.id),{loading:"Deleting file...",error:"An error occurred while deleting the file!",success:"Deleted ".concat(e.name,"!")}).then(()=>B())},[B]),V=o.useCallback(e=>{let n="".concat(window.location.origin,"/editor?json=").concat(e);navigator.clipboard.writeText(n),N.default.success("Copied share link to clipboard!")},[]),W=o.useMemo(()=>null==U?void 0:U.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsxs)(p.k,{align:"center",gap:"xs",children:[e.private?(0,i.jsx)(P.ULV,{}):(0,i.jsx)(P.WDl,{}),e.id]})}),(0,i.jsx)("td",{children:(0,i.jsxs)(p.k,{align:"center",justify:"space-between",children:[e.name,(0,i.jsx)(j.A,{color:"cyan",onClick:()=>S(e),children:(0,i.jsx)(P.$jT,{})})]})}),(0,i.jsx)("td",{children:Z()(e.created_at).format("DD.MM.YYYY")}),(0,i.jsx)("td",{children:(0,i.jsx)(g.C,{variant:"light",color:L[e.format],size:"sm",children:e.format.toUpperCase()})}),(0,i.jsx)("td",{children:e.views.toLocaleString("en-US")}),(0,i.jsx)("td",{children:(0,i.jsxs)(p.k,{gap:"xs",children:[(0,i.jsx)(j.A,{component:a(),href:"?json=".concat(e.id),prefetch:!1,color:"blue",onClick:t,children:(0,i.jsx)(T.Imv,{size:"18"})}),(0,i.jsx)(j.A,{color:"red",onClick:()=>G(e),children:(0,i.jsx)(O.Xm5,{size:"18"})}),(0,i.jsx)(j.A,{color:"green",onClick:()=>V(e.id),children:(0,i.jsx)(E.uFt,{})})]})})]},e.id)),[U,V,t,G]);return(0,i.jsxs)(d.u,{title:"Saved On The Cloud",opened:n,size:"xl",onClose:t,centered:!0,hidden:!!m,children:[(0,i.jsx)(f.X,{children:(0,i.jsx)(C.x,{h:360,offsetScrollbars:!0,children:(0,i.jsxs)(v.i,{fontSize:"xs",verticalSpacing:"xs",striped:!0,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"ID"}),(0,i.jsx)("th",{children:"Name"}),(0,i.jsx)("th",{children:"Create Date"}),(0,i.jsx)("th",{children:"Format"}),(0,i.jsx)("th",{children:"Views"}),(0,i.jsx)("th",{children:"Actions"})]})}),(0,i.jsx)("tbody",{children:W})]})})}),U&&(0,i.jsxs)(p.k,{gap:"md",children:[(0,i.jsx)(f.X,{my:"lg",withBorder:!0,radius:"md",p:"xs",w:"100%",children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(y.T,{size:60,roundCaps:!0,thickness:8,sections:[{value:100*U.length/l,color:U.length>l/1.5?"red":"blue"}]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(k.x,{color:"dimmed",size:"xs",transform:"uppercase",weight:700,children:"Total Quota"}),(0,i.jsxs)(k.x,{weight:700,size:"xl",children:[U.length," / ",l]})]})]})}),(0,i.jsx)(f.X,{my:"lg",withBorder:!0,radius:"md",p:"xs",w:250,children:(0,i.jsx)(b.k,{fw:"bold",w:"100%",h:"100%",onClick:M,disabled:K,children:(0,i.jsx)(k.x,{fz:"md",align:"center",color:"blue",children:(0,i.jsxs)(p.k,{align:"center",justify:"center",children:[(0,i.jsx)(P.kPb,{size:"24"}),"Create New Document"]})})})})]}),(0,i.jsx)(w.i,{py:"xs"}),(0,i.jsx)(k.x,{fz:"xs",children:"The Cloud Save feature is primarily designed for convenient access and is not advisable for storing sensitive data."}),(0,i.jsx)(_,{file:m,onClose:()=>S(null),refetch:B})]})}},{key:"account",component:e=>{let{opened:n,onClose:t}=e,l=(0,eo.useUser)(),r=(0,A.Z)(e=>e.premium),o=(0,A.Z)(e=>e.organization),s=(0,A.Z)(e=>e.premiumCancelled),a=(0,ea.Z)(e=>e.setVisible),c=(0,A.Z)(e=>e.logout);return(0,i.jsxs)(d.u,{title:"Hello, ".concat(null==l?void 0:l.user_metadata.name,"!"),opened:n,onClose:t,centered:!0,children:[(0,i.jsx)(f.X,{p:"md",children:(0,i.jsxs)(x.Z,{noWrap:!0,children:[(0,i.jsx)(ei.q,{src:null==l?void 0:l.user_metadata.avatar_url,size:94,children:"JC"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(k.x,{fz:"lg",tt:"uppercase",fw:700,children:null==l?void 0:l.user_metadata.name}),(0,i.jsx)(x.Z,{noWrap:!0,spacing:10,mt:3,children:(0,i.jsx)(k.x,{fz:"xs",c:"dimmed",children:null==l?void 0:l.email})}),(0,i.jsx)(x.Z,{noWrap:!0,spacing:10,mt:5,children:(0,i.jsx)(k.x,{fz:"xs",c:"dimmed",children:(0,i.jsxs)(g.C,{size:"sm",variant:r?"gradient":"dot",color:s||!r?"dark":"green",gradient:{from:"#8800fe",to:"#ff00cc",deg:35},children:[r?"Premium":"Free"," ",s?"(Cancelled)":o&&"(Organization)"]})})})]})]})}),(0,i.jsx)(w.i,{py:"xs"}),(0,i.jsxs)(x.Z,{position:"right",children:[r&&!s?(0,i.jsx)(m.z,{variant:"light",color:"red",onClick:()=>{a("cancelPremium")(!0),t()},children:"Cancel Subscription"}):(0,i.jsx)(m.z,{variant:"gradient",gradient:{from:"teal",to:"lime",deg:105},leftIcon:(0,i.jsx)(es.u8_,{}),onClick:()=>a("premium")(!0),children:"UPGRADE TO PREMIUM!"}),(0,i.jsx)(m.z,{color:"red",onClick:()=>{c(),t()},children:"Log Out"})]})]})}},{key:"premium",component:e=>{let{opened:n,onClose:t}=e;return(0,i.jsx)(d.u,{title:"Your Plan",size:"auto",opened:n,onClose:t,centered:!0,children:(0,i.jsxs)(p.k,{gap:"lg",children:[(0,i.jsxs)(u.K,{spacing:"xs",children:[(0,i.jsxs)(ey.D,{order:3,children:["Free plan",(0,i.jsx)(k.x,{size:"sm",color:"dimmed",children:"(Free)"})]}),(0,i.jsx)(m.z,{variant:"filled",color:"dark",size:"md",children:"Your current plan"}),(0,i.jsxs)(ek.a,{spacing:"xs",size:"sm",center:!0,icon:(0,i.jsx)(eb.k,{color:"dark.6",size:20,radius:"xl",children:(0,i.jsx)(ew.oFd,{size:"1rem"})}),children:[(0,i.jsx)(ek.a.Item,{children:"Store/Share up to 15 files"}),(0,i.jsx)(ek.a.Item,{children:"Visualize standard size data"})]})]}),(0,i.jsx)(w.i,{color:"gray",orientation:"vertical"}),(0,i.jsxs)(u.K,{spacing:"xs",children:[(0,i.jsxs)(ey.D,{order:3,children:["JSON Crack Plus",(0,i.jsx)(k.x,{size:"sm",color:"dimmed",children:"USD 5$/mo"})]}),(0,i.jsx)(m.z,{component:"a",href:"/pricing",variant:"filled",color:"teal",size:"md",target:"_blank",children:"Upgrade plan"}),(0,i.jsxs)(ek.a,{spacing:"xs",size:"sm",center:!0,icon:(0,i.jsx)(eb.k,{color:"teal",size:20,radius:"xl",children:(0,i.jsx)(ew.oFd,{size:"1rem"})}),children:[(0,i.jsx)(ek.a.Item,{children:"Edit directly on graph"}),(0,i.jsx)(ek.a.Item,{children:"JSON Schema support"}),(0,i.jsx)(ek.a.Item,{children:"Visualize data at full capability"}),(0,i.jsx)(ek.a.Item,{children:"Save & share up to 200 files"})]})]})]})})}},{key:"login",component:e=>{let{opened:n,onClose:t}=e;return(0,i.jsx)(d.u,{title:"Sign In",opened:n,onClose:t,centered:!0,children:(0,i.jsxs)(u.K,{py:"sm",children:[(0,i.jsx)(ey.D,{order:2,children:"Welcome Back!"}),(0,i.jsx)(k.x,{children:"Login to unlock full potential of JSON Crack!"}),(0,i.jsx)(m.z,{component:"a",href:"/sign-in",size:"md",fullWidth:!0,children:"Sign In"})]})})}},{key:"share",component:e=>{let{opened:n,onClose:t}=e,{query:l}=(0,c.useRouter)(),r="https://jsoncrack.com/editor?json=".concat(l.json);return(0,i.jsx)(d.u,{title:"Create a Share Link",opened:n,onClose:t,centered:!0,children:(0,i.jsxs)(u.K,{py:"sm",children:[(0,i.jsx)(k.x,{fz:"sm",fw:700,children:"Share Link"}),(0,i.jsx)(B.o,{value:r,type:"url",readOnly:!0,rightSection:(0,i.jsx)(eC.q,{value:r,timeout:2e3,children:e=>{let{copied:n,copy:t}=e;return(0,i.jsx)(ev.u,{label:n?"Copied":"Copy",withArrow:!0,position:"right",children:(0,i.jsx)(j.A,{color:n?"teal":"gray",onClick:t,children:n?(0,i.jsx)(T.HhX,{size:"1rem"}):(0,i.jsx)(T.vlz,{size:"1rem"})})})}})}),(0,i.jsx)(k.x,{fz:"sm",fw:700,children:"Embed into your website"}),(0,i.jsx)(m.z,{component:"a",color:"green",target:"_blank",href:"/docs",leftIcon:(0,i.jsx)(Y.AlO,{}),fullWidth:!0,children:"Learn How to Embed"})]})})}},{key:"jwt",component:e=>{let{opened:n,onClose:t}=e,l=(0,F.Z)(e=>e.setContents),[r,s]=o.useState("");return(0,i.jsx)(d.u,{title:"Decode JSON Web Token",opened:n,onClose:t,centered:!0,children:(0,i.jsxs)(u.K,{py:"sm",children:[(0,i.jsx)(ez.g,{placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6Ikhlcm93YW5kIiwidXJsIjoiaHR0cHM6Ly9oZXJvd2FuZC5jb20iLCJpYXQiOjE1MTYyMzkwMjJ9.Tmm3Miq6KWCF_QRn3iERhhXThJzv4LQPKYwBhYUld88",value:r,onChange:e=>s(e.target.value),fz:"sm",fw:700,minRows:8,"data-autofocus":!0,children:"Share Link"}),(0,i.jsx)(m.z,{onClick:()=>{if(!r)return;let e=(0,eS.decode)(r);l({contents:JSON.stringify(e,null,2)}),s(""),t()},fullWidth:!0,children:"Resolve"})]})})}},{key:"node",component:e=>{let{opened:n,onClose:t}=e,l=(0,A.Z)(e=>e.premium),r=(0,F.Z)(e=>e.editContents),s=(0,ea.Z)(e=>e.setVisible),a=(0,ep.Z)(e=>e.lightmode?"light":"vs-dark"),c=(0,em.Z)(e=>{var n;return ej(null===(n=e.selectedNode)||void 0===n?void 0:n.text)}),h=(0,em.Z)(e=>{var n;return null===(n=e.selectedNode)||void 0===n?void 0:n.path}),x=(0,em.Z)(e=>{var n,t;return null===(t=e.selectedNode)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.isParent}),[p,j]=o.useState(!1),[g,f]=o.useState(c||""),C=()=>{j(!1),f(""),t()},v=o.useMemo(()=>"{Root}"!==h&&!x&&!(0,ex.c)(),[x,h]);return(0,i.jsx)(d.u,{title:"Node Content",size:"auto",opened:n,onClose:C,centered:!0,children:(0,i.jsxs)(u.K,{py:"sm",spacing:"sm",children:[(0,i.jsxs)(u.K,{spacing:"xs",children:[(0,i.jsx)(k.x,{fz:"sm",fw:700,children:"Content"}),p?(0,i.jsx)(ed.ZP,{theme:a,defaultValue:c,onChange:e=>f(e),height:200,language:"json",options:{readOnly:!p,minimap:{enabled:!1}}}):(0,i.jsx)(eg,{maw:600,children:c})]}),v&&(0,i.jsx)(u.K,{spacing:"xs",children:p?(0,i.jsx)(m.z,{variant:g?"filled":"light",color:g?"green":"blue",onClick:()=>{if(!g)return j(!1);l&&r(h,g,()=>{j(!1),C()})},children:g.length?"Update Document":"Cancel"}):(0,i.jsx)(m.z,{onClick:()=>{if(l)return j(!0);s("premium")(!0),C()},leftIcon:!l&&(0,i.jsx)(P.ULV,{}),variant:"filled",children:"Edit"})}),(0,i.jsx)(k.x,{fz:"sm",fw:700,children:"Node Path"}),(0,i.jsx)(eg,{children:h})]})})}},{key:"schema",component:e=>{let{opened:n,onClose:t}=e,l=(0,F.Z)(e=>e.setJsonSchema),[r,s]=o.useState(""),a=(0,ep.Z)(e=>e.lightmode?"light":"vs-dark");return(0,i.jsx)(d.u,{title:"JSON Schema",opened:n,onClose:t,centered:!0,children:(0,i.jsxs)(u.K,{py:"sm",children:[(0,i.jsx)(k.x,{fz:"sm",children:"Any validation failures are shown at the bottom toolbar of pane."}),(0,i.jsx)(ed.ZP,{value:null!=r?r:"",theme:a,onChange:e=>s(e),height:300,language:"json",options:{formatOnPaste:!0,formatOnType:!0,minimap:{enabled:!1}}}),(0,i.jsx)(m.z,{onClick:()=>{try{let e=JSON.parse(r);l(e),N.toast.success("Applied schema!"),t()}catch(e){N.toast.error("Invalid Schema")}},disabled:!r,fullWidth:!0,children:"Apply"}),(0,i.jsx)(m.z,{variant:"outline",onClick:()=>{l(null),s(""),(0,N.toast)("Disabled JSON Schema"),t()},disabled:!r,fullWidth:!0,children:"Clear"})]})})}},{key:"cancelPremium",component:e=>{let{opened:n,onClose:t}=e,[l,r]=o.useState(!1),s=async()=>{try{r(!0);let{data:n}=await eD.O.auth.getSession();if(n){var e;let{error:t}=await eD.O.functions.invoke("lemonsqueezy",{method:"DELETE",body:{jwt:null===(e=n.session)||void 0===e?void 0:e.access_token}});if(t)return N.toast.error("An error occured while cancelling subscription, please contact: contact@jsoncrack.com");N.toast.success("Cancelled premium plan!")}else N.toast.error("Couldn't fetch user details, please contact: contact@jsoncrack.com");N.toast.success("Cancelled premium plan!"),setTimeout(()=>window.location.reload(),2500)}catch(e){console.error(e)}finally{r(!1)}};return(0,i.jsxs)(d.u,{title:"CANCEL PREMIUM?",opened:n,onClose:t,centered:!0,children:[(0,i.jsx)(eZ.E,{py:"xs",src:"assets/taken.svg",mx:"auto",width:200,alt:"taken"}),(0,i.jsxs)(k.x,{fz:"sm",pb:"md",children:["Cancellation will take effect at the end of your current billing period.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"You can restart your subscription anytime.",(0,i.jsx)("br",{}),(0,i.jsx)(k.x,{size:"xs",color:"dimmed",children:"If you have problems with cancelling plan please contact: contact@jsoncrack.com"}),(0,i.jsx)(eI.e,{target:"_blank",href:"https://patreon.com/herowand",children:"Click here to cancel if you are Patreon member"})]}),(0,i.jsx)(w.i,{py:"xs"}),(0,i.jsxs)(x.Z,{position:"right",children:[(0,i.jsx)(m.z,{color:"dark",variant:"subtle",onClick:t,children:"Cancel"}),(0,i.jsx)(m.z,{onClick:s,loading:l,color:"red",children:"QUIT SUBSCRIPTION"})]})]})}}];var eO=()=>{let e=(0,ea.Z)(e=>e.setVisible),n=(0,ea.Z)(e=>eE.map(n=>e[n.key]));return(0,i.jsx)(eN.c,{children:eE.map((t,l)=>{let{key:r,component:o}=t,s=n[l];return(0,i.jsx)(o,{opened:s,onClose:()=>e(r)(!1)},r)})})}}}]);
//# sourceMappingURL=7651.d3d2d3f35cb3d17a.js.map